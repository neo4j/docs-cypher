:description: Overview of Neo4j constraints used for ensuring data integrity.
include::https://raw.githubusercontent.com/neo4j-graphacademy/courses/main/asciidoc/courses/cypher-indexes-constraints/ad.adoc[]
= Constraints

Cypher offers several constraints to ensure the quality and integrity of data in a graph.
For information about how to create these constraints, see:

* xref:constraints/managing-constraints.adoc#create-uniqueness-constraint[Uniqueness constraints]: ensures that property values are unique for all nodes with a specific label or all relationships with a specific type. 
* xref:constraints/managing-constraints.adoc#create-existence-constraint.adoc[Existence constraints]: ensures that a property exists either for all nodes with a specific label or for all relationships with a specific type. label:enterprise-edition[]
* xref:constraints/managing-constraints.adoc#create-type-constraint.adoc[Key constraints]: ensures that, for a given node label or relationship type and set of properties, all properties are present on the respective nodes or relationships, and the combination of property values is unique. label:enterprise-edition[]
* xref:constraints/managing-constraints.adoc#create-type-constraint.adoc[Type constraints]: ensures that a property have the required property type for all nodes with a specific label or for all relationships with a specific type. label:enterprise-edition[]


This section also contains the following pages:

* xref:constraints/managing-constraints.adoc[]
* xref:constraints/syntax.adoc[]

== General information

Adding constraints is an atomic operation that can take a while -- all existing data has to be scanned before a Neo4j DBMS can use a constraint.

[[multiple-constrains]]
=== Multiple constraints on the same property combinations

Some constraint types are allowed on the same label/relationship type and property combination.
For example, it is possible to have a uniqueness and an existence constraint on the same label/relationship type and property combination, though this would be the equivalent of having a node or relationship key constraint.
A more useful example would be to combine a property type and an existence constraint to ensure that the property exists and has the given type.

[[index-implications]]
=== Implications on indexes

Creating key and uniqueness constraints has the following implications on indexes:

* Adding key or uniqueness constraints on a single property also adds a xref:indexes/search-performance-indexes/managing-indexes.adoc#create-range-index[range index] on that property, and therefore, an index of the same index type, label/relationship type, and property combination cannot be added separately.
* Adding a key or uniqueness constraint for a set of properties adds a xref:indexes/search-performance-indexes/using-indexes.adoc#composite-indexes[composite range index] on those properties, and therefore, an index of the same index type, label/relationship type, and properties combination cannot be added separately.
* Cypher will use these constraint-backed indexes in the same way as it uses regular indexes.
Refer to xref:indexes/search-performance-indexes/managing-indexes.adoc[] for more details on indexes.
* If a property key or property uniqueness constraint is dropped and the backing index is still required, the index need to be created explicitly.
