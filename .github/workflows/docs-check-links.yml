# Use this starter workflow to verify PRs that include a change to the docs
# The default setup runs against PRs targeting your default branch
# Default artifact retention is 7 days

name: "Check links"

on:
  pull_request:
    branches:
      - "3.5"
      - "4.[0-9]"
      - "5.0"
      - "5.x"
      - "dev"
      - "feature-*"
  workflow_dispatch:

jobs:

  docs-check-links:
    runs-on: ubuntu-latest

    steps:    
    - uses: actions/checkout@v3

    - name: Use Node.js 16
      uses: actions/setup-node@v3
      with:
        node-version: '16'

    - run: npm install --omit=dev

    - run: npm run build
    
    - run: npm run check-links
    